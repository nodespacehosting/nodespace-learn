#image: tnewton1/mkdocs-build:v1
image: ubuntu:latest

stages:
  - deploy

Build and Upload:
    stage: deploy
    script:
        - apt update
        - apt upgrade -y
        - apt install lftp -y
        - apt install python3 python3-pip -y
        - pip3 install --upgrade pip
        - pip3 install mkdocs
        - pip3 install mkdocs-material
        - pip3 install neoteroi-mkdocs
        - mkdocs build
        - lftp --version
        # - cp -rT web-server-files site
        - lftp -e "set ssl:verify-certificate no; open learn.nodespace.com; user $FTP_USERNAME $FTP_PASSWORD; set ftp:list-options -a; mirror --reverse --verbose --delete site/ public_html/; bye"
