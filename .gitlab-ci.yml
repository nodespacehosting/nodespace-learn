image: tnewton1/mkdocs-build:v1.2

stages:
  - deploy

Build and Upload:
    stage: deploy
    script:
        - mkdocs build
        # - cp -rT web-server-files site
        # - lftp -e "set ssl:verify-certificate no; open 199.255.159.165; user $FTP_USERNAME,$FTP_PASSWORD; set ftp:list-options -a; mirror --reverse --verbose --delete site/ public_html/; bye"
        - which sshpass
        - sshpass -p "${FTP_PASSWORD}" scp --delete -e "ssh -o StrictHostKeyChecking=no" site/ ${FTP_USERNAME}@199.255.159.165:public_html/
