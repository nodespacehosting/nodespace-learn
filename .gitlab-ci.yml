image: tnewton1/mkdocs-build:v1.2

stages:
  - deploy

Build and Upload:
    stage: deploy
    script:
        - mkdocs build
        # - cp -rT web-server-files site
        # - lftp -e "set ssl:verify-certificate no; open 199.255.159.165; user $FTP_USERNAME,$FTP_PASSWORD; set ftp:list-options -a; mirror --reverse --verbose --delete site/ public_html/; bye"
        - rsync -a --delete --rsh="sshpass -p ${FTP_PASSWORD} ssh StrictHostKeyChecking=no -l ${FTP_USERNAME}" site/ learn.nodespace.com:public_html/
